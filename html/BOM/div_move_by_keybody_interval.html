<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>interval控制div移动</title>
<style type="text/css">
#box1 {
	width: 100px;
	height: 100px;
	background-color: red;
	position: absolute;
}
</style>
<script type="text/javascript">
	/*
	 * 
	 */

	window.onload = function(event) {
		var box1 = document.getElementById("box1");
		event = event || window.event;
		var speed = 10;
		var dir = 0;//改变div的运行方向
		setInterval(function() {

			event = event || window.event;
			switch (dir) {
			case 37:
				box1.style.left = box1.offsetLeft - speed + 'px';
				break;
			case 39:
				box1.style.left = box1.offsetLeft + speed + 'px';
				break;
			case 38:
				box1.style.top = box1.offsetTop - speed + 'px';
				break;
			case 40:
				box1.style.top = box1.offsetTop + speed + 'px';
				break;
			}

		}, 30);

		document.onkeydown = function(event) {
			event = event || window.event;
			dir = event.keyCode;

			if (event.ctrlKey) {

				speed = 500;
			} else {

				speed = 10;
			}

		};

		document.onkeyup = function(event) {
			event = event || window.event;
			dir = 0;

		};
	};
</script>
</head>
<body>
	<div id="box1"></div>
</body>
</html>