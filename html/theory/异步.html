<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>异步</title>
<script type="text/javascript">
	/*
	 * async函数：
	 async function foo(){
	 await 异步操作；
	 await 异步操作；
	 }
	特点：
	1. 不需要像Generator去调用next方法，遇到await等待，当前的异步操作完成就往下执行
	2. 返回的总是Promise对象， 可以用then方法进行下一步操作
	3. async取代Generator函数的星号*, await取代Generator的yield
	4. 语意上更为明确，使用简单
	 */
	 
	 function promiseUtil(){
		let promise = new Promise((resolve, reject)=>{
			setTimeout(()=>{
				console.log('异步任务执行成功~~~');
				let data = '服务器返回的数据';
				resolve(data);
			},1000);
		});
	}

	async function AsyncUtil() {
		console.log('函数开始执行');
		let result = await promiseUtil();
		console.log(result,'result');
		await promiseUtil();
		console.log('函数执行结束');
	}

	AsyncUtil();
</script>
</head>
<body>

</body>
</html>
